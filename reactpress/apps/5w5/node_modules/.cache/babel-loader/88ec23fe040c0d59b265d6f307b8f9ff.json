{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/5w5/wordpress/wp-content/reactpress/apps/5w5/src/composants/ListeEnseignants.jsx\",\n    _s = $RefreshSig$();\n\nimport Enseignant from './Enseignant';\nimport Chargement from './Chargement';\nimport obtenir from '../wp-rest-api';\nimport * as utilitaires from '../utilitaires';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ListeEnseignants(_ref) {\n  _s();\n\n  let {\n    enseignants,\n    setEnseignants,\n    media,\n    setMedia,\n    cours,\n    setCours\n  } = _ref;\n  useEffect(() => {\n    obtenir('http://localhost:8888/5w5/wordpress/wp-json/wp/v2/media').then(reponse => setMedia(reponse));\n  }, []);\n  useEffect(() => {\n    obtenir('http://localhost:8888/5w5/wordpress/wp-json/wp/v2/enseignants').then(reponse => setEnseignants(reponse));\n  }, []);\n  useEffect(() => {\n    obtenir('http://localhost:8888/5w5/wordpress/wp-json/wp/v2/cours').then(reponse => setCours(reponse));\n  }, []);\n  return enseignants && media && cours != null ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ListeEnseignants\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"ListeEnseignants__titre\",\n      children: utilitaires.capitaliserPremiereLettre(enseignants[0].type)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"ListeEnseignants__liste\",\n      children: enseignants.map(enseignant => /*#__PURE__*/_jsxDEV(Enseignant, {\n        nom: enseignant.acf.nom,\n        description: enseignant.acf.description\n        /**\n         * Filter les média dans enseignants.map() afin de faire correspondre l'id de la photo récupéré dans l'ACF\n         * à l'ID du medium dans la liste des médias de WP\n         */\n        ,\n        photo: media.filter(medium => medium.id == enseignant.acf.photo)[0].guid.rendered\n        /**\n         * Lister les IDs de tous les cours qu'enseigne le professeur,\n         * puisque c'est la seule donnée retournée par WP\n         */\n        ,\n        coursEnseignes: cours.filter(cours => cours.id == enseignant.acf.coursEnseignes)\n      }, enseignant.acf.nom, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Chargement, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ListeEnseignants, \"ewq31d5h+FnD/qJW52w5UqeNMN4=\");\n\n_c = ListeEnseignants;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListeEnseignants\");","map":{"version":3,"names":["Enseignant","Chargement","obtenir","utilitaires","useEffect","ListeEnseignants","enseignants","setEnseignants","media","setMedia","cours","setCours","then","reponse","capitaliserPremiereLettre","type","map","enseignant","acf","nom","description","filter","medium","id","photo","guid","rendered","coursEnseignes"],"sources":["/Applications/MAMP/htdocs/5w5/wordpress/wp-content/reactpress/apps/5w5/src/composants/ListeEnseignants.jsx"],"sourcesContent":["import Enseignant from './Enseignant';\nimport Chargement from './Chargement';\n\nimport obtenir from '../wp-rest-api'\nimport * as utilitaires from '../utilitaires';\n\nimport {useEffect} from 'react';\n\nexport default function ListeEnseignants({enseignants, setEnseignants, media, setMedia, cours, setCours}) {\n\n    useEffect(() => {\n        obtenir('http://localhost:8888/5w5/wordpress/wp-json/wp/v2/media').then(\n            reponse => setMedia(reponse)\n        )\n    }, [])\n\n    useEffect(() => {\n        obtenir('http://localhost:8888/5w5/wordpress/wp-json/wp/v2/enseignants').then(\n            reponse => setEnseignants(reponse)\n        )\n    }, []);\n\n    useEffect(() => {\n        obtenir('http://localhost:8888/5w5/wordpress/wp-json/wp/v2/cours').then(\n            reponse => setCours(reponse)\n        )\n    }, []);\n\n    return(\n        enseignants && media && cours != null ?\n        <div className=\"ListeEnseignants\">\n            <h1 className=\"ListeEnseignants__titre\">{utilitaires.capitaliserPremiereLettre(enseignants[0].type)}</h1>\n\n            <ul className=\"ListeEnseignants__liste\">\n                {enseignants.map(enseignant => \n                    <Enseignant \n                        key={enseignant.acf.nom} \n                        nom={enseignant.acf.nom} \n                        description={enseignant.acf.description}\n\n                        /**\n                         * Filter les média dans enseignants.map() afin de faire correspondre l'id de la photo récupéré dans l'ACF\n                         * à l'ID du medium dans la liste des médias de WP\n                         */\n                        photo={media.filter(medium =>\n                            medium.id == enseignant.acf.photo\n                        )[0].guid.rendered}\n\n                        /**\n                         * Lister les IDs de tous les cours qu'enseigne le professeur,\n                         * puisque c'est la seule donnée retournée par WP\n                         */\n\n                        coursEnseignes={cours.filter(cours =>\n                            cours.id == enseignant.acf.coursEnseignes\n                        )}\n                    />\n                )}\n            </ul>\n        </div>\n        \n        :\n        <Chargement />\n    )\n}"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,cAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAO,KAAKC,WAAZ,MAA6B,gBAA7B;AAEA,SAAQC,SAAR,QAAwB,OAAxB;;AAEA,eAAe,SAASC,gBAAT,OAA2F;EAAA;;EAAA,IAAjE;IAACC,WAAD;IAAcC,cAAd;IAA8BC,KAA9B;IAAqCC,QAArC;IAA+CC,KAA/C;IAAsDC;EAAtD,CAAiE;EAEtGP,SAAS,CAAC,MAAM;IACZF,OAAO,CAAC,yDAAD,CAAP,CAAmEU,IAAnE,CACIC,OAAO,IAAIJ,QAAQ,CAACI,OAAD,CADvB;EAGH,CAJQ,EAIN,EAJM,CAAT;EAMAT,SAAS,CAAC,MAAM;IACZF,OAAO,CAAC,+DAAD,CAAP,CAAyEU,IAAzE,CACIC,OAAO,IAAIN,cAAc,CAACM,OAAD,CAD7B;EAGH,CAJQ,EAIN,EAJM,CAAT;EAMAT,SAAS,CAAC,MAAM;IACZF,OAAO,CAAC,yDAAD,CAAP,CAAmEU,IAAnE,CACIC,OAAO,IAAIF,QAAQ,CAACE,OAAD,CADvB;EAGH,CAJQ,EAIN,EAJM,CAAT;EAMA,OACIP,WAAW,IAAIE,KAAf,IAAwBE,KAAK,IAAI,IAAjC,gBACA;IAAK,SAAS,EAAC,kBAAf;IAAA,wBACI;MAAI,SAAS,EAAC,yBAAd;MAAA,UAAyCP,WAAW,CAACW,yBAAZ,CAAsCR,WAAW,CAAC,CAAD,CAAX,CAAeS,IAArD;IAAzC;MAAA;MAAA;MAAA;IAAA,QADJ,eAGI;MAAI,SAAS,EAAC,yBAAd;MAAA,UACKT,WAAW,CAACU,GAAZ,CAAgBC,UAAU,iBACvB,QAAC,UAAD;QAEI,GAAG,EAAEA,UAAU,CAACC,GAAX,CAAeC,GAFxB;QAGI,WAAW,EAAEF,UAAU,CAACC,GAAX,CAAeE;QAE5B;AACxB;AACA;AACA;QARoB;QASI,KAAK,EAAEZ,KAAK,CAACa,MAAN,CAAaC,MAAM,IACtBA,MAAM,CAACC,EAAP,IAAaN,UAAU,CAACC,GAAX,CAAeM,KADzB,EAEL,CAFK,EAEFC,IAFE,CAEGC;QAEV;AACxB;AACA;AACA;QAhBoB;QAkBI,cAAc,EAAEhB,KAAK,CAACW,MAAN,CAAaX,KAAK,IAC9BA,KAAK,CAACa,EAAN,IAAYN,UAAU,CAACC,GAAX,CAAeS,cADf;MAlBpB,GACSV,UAAU,CAACC,GAAX,CAAeC,GADxB;QAAA;QAAA;QAAA;MAAA,QADH;IADL;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADA,gBAiCA,QAAC,UAAD;IAAA;IAAA;IAAA;EAAA,QAlCJ;AAoCH;;GAxDuBd,gB;;KAAAA,gB"},"metadata":{},"sourceType":"module"}